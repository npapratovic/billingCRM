{"__meta":{"id":"9432dc3ebdb7b04f73adc0e4ff624398","datetime":"2016-12-14 17:43:11","utime":1481733791.1932,"method":"POST","uri":"\/admin\/invoices\/update\/%7Bid%7D","ip":"::1"},"php":{"version":"5.6.19"},"messages":{"count":1,"messages":[{"message":"[17:43:11] LOG.error: exception 'ErrorException' with message 'Undefined offset: 0' in C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\app\\repositories\\InvoiceRepository.php:139\nStack trace:\n#0 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\app\\repositories\\InvoiceRepository.php(139): Illuminate\\Exception\\Handler->handleError(8, 'Undefined offse...', 'C:\\\\Users\\\\Vedran...', 139, Array)\n#1 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\app\\controllers\\InvoiceController.php(310): InvoiceRepository->update('3', '16', 'R', '0', '19', Array, Array, Array, Array, Array, Array, 'virman', '2016-11-30', '0000-00-00', '0000-00-00', '', '', '0', 'croatian', '0', Array)\n#2 [internal function]: InvoiceController->update('{id}')\n#3 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Controller.php(231): call_user_func_array(Array, Array)\n#4 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(93): Illuminate\\Routing\\Controller->callAction('update', Array)\n#5 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\ControllerDispatcher.php(62): Illuminate\\Routing\\ControllerDispatcher->call(Object(InvoiceController), Object(Illuminate\\Routing\\Route), 'update')\n#6 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(967): Illuminate\\Routing\\ControllerDispatcher->dispatch(Object(Illuminate\\Routing\\Route), Object(Illuminate\\Http\\Request), 'InvoiceControll...', 'update')\n#7 [internal function]: Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}('{id}')\n#8 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Route.php(109): call_user_func_array(Object(Closure), Array)\n#9 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(1033): Illuminate\\Routing\\Route->run(Object(Illuminate\\Http\\Request))\n#10 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Routing\\Router.php(1001): Illuminate\\Routing\\Router->dispatchToRoute(Object(Illuminate\\Http\\Request))\n#11 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php(781): Illuminate\\Routing\\Router->dispatch(Object(Illuminate\\Http\\Request))\n#12 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php(745): Illuminate\\Foundation\\Application->dispatch(Object(Illuminate\\Http\\Request))\n#13 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\barryvdh\\laravel-debugbar\\src\\Middleware\\Stack.php(34): Illuminate\\Foundation\\Application->handle(Object(Illuminate\\Http\\Request), 1, true)\n#14 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Session\\Middleware.php(72): Barryvdh\\Debugbar\\Middleware\\Stack->handle(Object(Illuminate\\Http\\Request), 1, true)\n#15 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Cookie\\Queue.php(47): Illuminate\\Session\\Middleware->handle(Object(Illuminate\\Http\\Request), 1, true)\n#16 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Cookie\\Guard.php(51): Illuminate\\Cookie\\Queue->handle(Object(Illuminate\\Http\\Request), 1, true)\n#17 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\stack\\builder\\src\\Stack\\StackedHttpKernel.php(23): Illuminate\\Cookie\\Guard->handle(Object(Illuminate\\Http\\Request), 1, true)\n#18 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\vendor\\laravel\\framework\\src\\Illuminate\\Foundation\\Application.php(641): Stack\\StackedHttpKernel->handle(Object(Illuminate\\Http\\Request))\n#19 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\public_html\\index.php(49): Illuminate\\Foundation\\Application->run()\n#20 C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\server.php(19): require_once('C:\\\\Users\\\\Vedran...')\n#21 {main}","is_string":false,"label":"error","time":1481733791.1659,"collector":"log"}]},"time":{"start":1481733790.904,"end":1481733791.1933,"duration":0.28923606872559,"duration_str":"289.24ms","measures":[{"label":"Booting","start":1481733790.904,"relative_start":0,"end":1481733791.0823,"relative_end":1481733791.0823,"duration":0.17830109596252,"duration_str":"178.3ms","params":[],"collector":null},{"label":"Application","start":1481733791.0929,"relative_start":0.18888115882874,"end":1481733791.1933,"relative_end":3.0994415283203e-6,"duration":0.10035800933838,"duration_str":"100.36ms","params":[],"collector":null}]},"memory":{"peak_usage":15466496,"peak_usage_str":"14.75MB"},"exceptions":{"count":1,"exceptions":[{"type":"ErrorException","message":"Undefined offset: 0","code":0,"file":"C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\app\\repositories\\InvoiceRepository.php","line":139,"surrounding_lines":["\t\t\t\t$imported_item = ImportedOrderProduct::getEntry($imported_product);\r\n","\t\t\t\t$orderproduct = new InvoicesProducts;\r\n","\t\t\t\t$orderproduct->invoice_id = $invoice->id;\r\n","\t\t\t\t$orderproduct->product_id = $imported_item['entry']['0']->id;\r\n","\t\t\t\t$orderproduct->measurement = '0';\r\n","\t\t\t\t$orderproduct->amount = $imported_item['entry']['0']->quantity;\r\n","\t\t\t\t$orderproduct->price = $imported_item['entry']['0']->price;\r\n"]}]},"views":{"nb_templates":0,"templates":[]},"route":{"uri":"POST admin\/invoices\/update\/{id}","before":"admin","as":"InvoiceUpdate","controller":"InvoiceController@update","namespace":null,"prefix":"admin\/invoices","where":[],"file":"\\app\\controllers\\InvoiceController.php:276-320"},"queries":{"nb_statements":8,"nb_failed_statements":0,"accumulated_duration":0.00737,"accumulated_duration_str":"7.37ms","statements":[{"sql":"select * from `users` where `users`.`deleted_at` is null and `users`.`id` = '1' limit 1","params":{"0":"1","hints":"Use <code>SELECT *<\/code> only if you need all columns from table<br \/><code>LIMIT<\/code> without <code>ORDER BY<\/code> causes non-deterministic results, depending on the query execution plan"},"duration":0.00071,"duration_str":"710\u03bcs","stmt_id":null},{"sql":"select `users`.`id` as `id`, `users`.`username` as `username`, `users`.`email` as `email`, `users`.`first_name` as `first_name`, `users`.`last_name` as `last_name`, `users`.`address` as `address`, `users`.`city` as `city`, `users`.`phone` as `phone`, `users`.`region` as `region`, `users`.`image` as `image`, `users`.`remember_token` as `remember_token`, `users`.`verify_code` as `verify_code`, `users`.`company_name` as `company_name`, `users`.`client_type` as `client_type`, `users`.`oib` as `oib`, `users`.`mjesto` as `mjesto`, `users`.`zip` as `zip`, `users`.`country` as `country`, `users`.`phone` as `phone`, `users`.`fax` as `fax`, `users`.`mobile` as `mobile`, `users`.`web` as `web`, `users`.`iban` as `iban`, `users`.`note` as `note`, `roles`.`id` as `role_id`, `roles`.`name` as `role_name`, `users`.`created_at` as `created_at`, `users`.`updated_at` as `updated_at` from `assigned_roles` inner join `users` on `users`.`id` = `assigned_roles`.`user_id` inner join `roles` on `roles`.`id` = `assigned_roles`.`role_id` where `users`.`id` = '1' order by `id` desc limit 1","params":{"0":"1"},"duration":0.0008,"duration_str":"800\u03bcs","stmt_id":null},{"sql":"select `roles`.*, `assigned_roles`.`user_id` as `pivot_user_id`, `assigned_roles`.`role_id` as `pivot_role_id` from `roles` inner join `assigned_roles` on `roles`.`id` = `assigned_roles`.`role_id` where `assigned_roles`.`user_id` = '1'","params":{"0":"1","hints":"Use <code>SELECT *<\/code> only if you need all columns from table"},"duration":0.00051,"duration_str":"510\u03bcs","stmt_id":null},{"sql":"select * from `invoices` where `invoices`.`deleted_at` is null and `invoices`.`id` = '3' limit 1","params":{"0":"3","hints":"Use <code>SELECT *<\/code> only if you need all columns from table<br \/><code>LIMIT<\/code> without <code>ORDER BY<\/code> causes non-deterministic results, depending on the query execution plan"},"duration":0.00224,"duration_str":"2.24ms","stmt_id":null},{"sql":"update `invoices` set `invoice_type` = 'R', `payment_way` = 'virman', `updated_at` = '2016-12-14 17:43:11' where `id` = '3'","params":{"0":"R","1":"virman","2":"2016-12-14 17:43:11","3":"3"},"duration":0.00107,"duration_str":"1.07ms","stmt_id":null},{"sql":"select * from `invoices` where `id` = '3' limit 1","params":{"0":"3","hints":"Use <code>SELECT *<\/code> only if you need all columns from table<br \/><code>LIMIT<\/code> without <code>ORDER BY<\/code> causes non-deterministic results, depending on the query execution plan"},"duration":0.00109,"duration_str":"1.09ms","stmt_id":null},{"sql":"delete from `invoices_products` where `invoice_id` = '3'","params":{"0":"3"},"duration":0.0006,"duration_str":"600\u03bcs","stmt_id":null},{"sql":"select `imported_order_products`.`id` as `id`, `imported_order_products`.`subtotal` as `subtotal`, `imported_order_products`.`subtotal_tax` as `subtotal_tax`, `imported_order_products`.`total` as `total`, `imported_order_products`.`total_tax` as `total_tax`, `imported_order_products`.`price` as `price`, `imported_order_products`.`quantity` as `quantity`, `imported_order_products`.`tax_class` as `tax_class`, `imported_order_products`.`name` as `title`, `imported_order_products`.`product_id` as `product_id`, `imported_order_products`.`existing` as `existing` from `imported_order_products` where `deleted_at` is null and `imported_order_products`.`id` = '10'","params":{"0":"10"},"duration":0.00035,"duration_str":"350\u03bcs","stmt_id":null}]},"swiftmailer_mails":{"count":0,"mails":[]},"request":{"format":"html","content_type":"text\/html","status_text":"Internal Server Error","status_code":"500","request_query":"[]","request_request":"array:22 [\n  \"_token\" => \"ixmX3ZlTHiNuxPT9yBnnIe65JZprR3a5xuW5kaCb\"\n  \"id\" => \"3\"\n  \"imported_products\" => array:2 [\n    0 => \"10\"\n    1 => \"9\"\n  ]\n  \"client_id\" => \"19\"\n  \"invoice_number\" => \"16\"\n  \"invoice_type\" => \"R\"\n  \"tax\" => \"0\"\n  \"product\" => array:1 [\n    0 => \"18\"\n  ]\n  \"measurement\" => array:1 [\n    0 => \"piece\"\n  ]\n  \"amount\" => array:1 [\n    0 => \"\"\n  ]\n  \"price\" => array:1 [\n    0 => \"\"\n  ]\n  \"discount\" => array:1 [\n    0 => \"\"\n  ]\n  \"taxpercent\" => array:1 [\n    0 => \"\"\n  ]\n  \"payment_way\" => \"virman\"\n  \"invoice_date\" => \"2016-11-30\"\n  \"invoice_date_deadline\" => \"0000-00-00\"\n  \"invoice_date_ship\" => \"0000-00-00\"\n  \"invoice_note\" => \"\"\n  \"intern_note\" => \"\"\n  \"repeat_invoice\" => \"0\"\n  \"invoice_language\" => \"croatian\"\n  \"valute\" => \"0\"\n]","request_headers":"array:13 [\n  \"host\" => array:1 [\n    0 => \"localhost:8000\"\n  ]\n  \"connection\" => array:1 [\n    0 => \"keep-alive\"\n  ]\n  \"content-length\" => array:1 [\n    0 => \"2411\"\n  ]\n  \"cache-control\" => array:1 [\n    0 => \"max-age=0\"\n  ]\n  \"origin\" => array:1 [\n    0 => \"http:\/\/localhost:8000\"\n  ]\n  \"upgrade-insecure-requests\" => array:1 [\n    0 => \"1\"\n  ]\n  \"user-agent\" => array:1 [\n    0 => \"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/54.0.2840.99 Safari\/537.36\"\n  ]\n  \"content-type\" => array:1 [\n    0 => \"multipart\/form-data; boundary=----WebKitFormBoundaryNOOT8xTXi8i4itiA\"\n  ]\n  \"accept\" => array:1 [\n    0 => \"text\/html,application\/xhtml+xml,application\/xml;q=0.9,image\/webp,*\/*;q=0.8\"\n  ]\n  \"referer\" => array:1 [\n    0 => \"http:\/\/localhost:8000\/admin\/invoices\/edit\/3\"\n  ]\n  \"accept-encoding\" => array:1 [\n    0 => \"gzip, deflate, br\"\n  ]\n  \"accept-language\" => array:1 [\n    0 => \"en-US,en;q=0.8\"\n  ]\n  \"cookie\" => array:1 [\n    0 => \"zdravizubhr=eyJpdiI6ImtkUWQwNktudlpiRVlFNEJMeHhMZWc9PSIsInZhbHVlIjoiXC8welhGNkN5MnhBNUFmUUtqOVwvSVpGcGtjek1NekQ5ZVBCcmcyNTQzbUptMFFwNkpYRjVrbmlaWFwvMlZMdEluejRLcGZqc0FUcVB4ODF3MlFYOG0rNUE9PSIsIm1hYyI6ImU3YTQyNzJlNGQwNDc1NTJiMjVhZTU5MThmMTFmN2QyOTRlOWFhZWVlNDJhNGI0NjI2MTlkZmM0NTBjZmNjNmYifQ%3D%3D; _ga=GA1.1.2010279715.1477306841; stipino=eyJpdiI6IlN4dlZQTkFJR0Noa3JOQ2ozeVFyQ2c9PSIsInZhbHVlIjoiVHFpd1FEdEVQZkJxNjhSWUFzVlwvUGZCQ2ltSkgyaXI4Z25UK1VHTEhuS1pibTMyNGM4UWdOclo0bHZxMkJFeU5JY0tITlhhOUY4UVZROGlkR3dJdTZnPT0iLCJtYWMiOiIzYjIwNWI1ODc3NGNmM2FmMGFlZjg3ZWY2NzEyZjJmMmEwZjVmNDg2MzUxNDEyZjZjNjBhNWFmMzZjZjBkODkzIn0%3D; __lfcc=1; billingcrm=eyJpdiI6ImYxc0pQUjNtbmpDXC94enYyUG5xYmd3PT0iLCJ2YWx1ZSI6IkRXUlwvQkxUeTFCZzZvanJEa0h6N25wXC9OWHBaa0RoOFwvT0RVVE1jckpYbkV5K1VCbjZoNVlFZ29zcjBrN2ROKzJ1eUU0VTIzQU9kenBCYWI1ZFFuOEVBPT0iLCJtYWMiOiJiNDU0ODRlOWYxMDVhMzg1NDVkNWU4Y2ZmNDFlNmVlYTFmNDkxOGY0NzUwZDgzZTMxY2YwZGQ0M2U4Y2UxODE1In0%3D\"\n  ]\n]","request_server":"array:30 [\n  \"DOCUMENT_ROOT\" => \"C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\public_html\"\n  \"REMOTE_ADDR\" => \"::1\"\n  \"REMOTE_PORT\" => \"53289\"\n  \"SERVER_SOFTWARE\" => \"PHP 5.6.19 Development Server\"\n  \"SERVER_PROTOCOL\" => \"HTTP\/1.1\"\n  \"SERVER_NAME\" => \"localhost\"\n  \"SERVER_PORT\" => \"8000\"\n  \"REQUEST_URI\" => \"\/admin\/invoices\/update\/%7Bid%7D\"\n  \"REQUEST_METHOD\" => \"POST\"\n  \"SCRIPT_NAME\" => \"\/index.php\"\n  \"SCRIPT_FILENAME\" => \"C:\\Users\\Vedran\\Desktop\\bcrm\\billingCRM\\public_html\\index.php\"\n  \"PATH_INFO\" => \"\/admin\/invoices\/update\/{id}\"\n  \"PHP_SELF\" => \"\/index.php\/admin\/invoices\/update\/{id}\"\n  \"HTTP_HOST\" => \"localhost:8000\"\n  \"HTTP_CONNECTION\" => \"keep-alive\"\n  \"CONTENT_LENGTH\" => \"2411\"\n  \"HTTP_CONTENT_LENGTH\" => \"2411\"\n  \"HTTP_CACHE_CONTROL\" => \"max-age=0\"\n  \"HTTP_ORIGIN\" => \"http:\/\/localhost:8000\"\n  \"HTTP_UPGRADE_INSECURE_REQUESTS\" => \"1\"\n  \"HTTP_USER_AGENT\" => \"Mozilla\/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit\/537.36 (KHTML, like Gecko) Chrome\/54.0.2840.99 Safari\/537.36\"\n  \"CONTENT_TYPE\" => \"multipart\/form-data; boundary=----WebKitFormBoundaryNOOT8xTXi8i4itiA\"\n  \"HTTP_CONTENT_TYPE\" => \"multipart\/form-data; boundary=----WebKitFormBoundaryNOOT8xTXi8i4itiA\"\n  \"HTTP_ACCEPT\" => \"text\/html,application\/xhtml+xml,application\/xml;q=0.9,image\/webp,*\/*;q=0.8\"\n  \"HTTP_REFERER\" => \"http:\/\/localhost:8000\/admin\/invoices\/edit\/3\"\n  \"HTTP_ACCEPT_ENCODING\" => \"gzip, deflate, br\"\n  \"HTTP_ACCEPT_LANGUAGE\" => \"en-US,en;q=0.8\"\n  \"HTTP_COOKIE\" => \"zdravizubhr=eyJpdiI6ImtkUWQwNktudlpiRVlFNEJMeHhMZWc9PSIsInZhbHVlIjoiXC8welhGNkN5MnhBNUFmUUtqOVwvSVpGcGtjek1NekQ5ZVBCcmcyNTQzbUptMFFwNkpYRjVrbmlaWFwvMlZMdEluejRLcGZqc0FUcVB4ODF3MlFYOG0rNUE9PSIsIm1hYyI6ImU3YTQyNzJlNGQwNDc1NTJiMjVhZTU5MThmMTFmN2QyOTRlOWFhZWVlNDJhNGI0NjI2MTlkZmM0NTBjZmNjNmYifQ%3D%3D; _ga=GA1.1.2010279715.1477306841; stipino=eyJpdiI6IlN4dlZQTkFJR0Noa3JOQ2ozeVFyQ2c9PSIsInZhbHVlIjoiVHFpd1FEdEVQZkJxNjhSWUFzVlwvUGZCQ2ltSkgyaXI4Z25UK1VHTEhuS1pibTMyNGM4UWdOclo0bHZxMkJFeU5JY0tITlhhOUY4UVZROGlkR3dJdTZnPT0iLCJtYWMiOiIzYjIwNWI1ODc3NGNmM2FmMGFlZjg3ZWY2NzEyZjJmMmEwZjVmNDg2MzUxNDEyZjZjNjBhNWFmMzZjZjBkODkzIn0%3D; __lfcc=1; billingcrm=eyJpdiI6ImYxc0pQUjNtbmpDXC94enYyUG5xYmd3PT0iLCJ2YWx1ZSI6IkRXUlwvQkxUeTFCZzZvanJEa0h6N25wXC9OWHBaa0RoOFwvT0RVVE1jckpYbkV5K1VCbjZoNVlFZ29zcjBrN2ROKzJ1eUU0VTIzQU9kenBCYWI1ZFFuOEVBPT0iLCJtYWMiOiJiNDU0ODRlOWYxMDVhMzg1NDVkNWU4Y2ZmNDFlNmVlYTFmNDkxOGY0NzUwZDgzZTMxY2YwZGQ0M2U4Y2UxODE1In0%3D\"\n  \"REQUEST_TIME_FLOAT\" => 1481733790.9035\n  \"REQUEST_TIME\" => 1481733790\n]","request_cookies":"array:5 [\n  \"zdravizubhr\" => \"d935dfc1b17dac5d4ead97b27ba25a1b8b15b959\"\n  \"_ga\" => null\n  \"stipino\" => \"513345fd0ce0c60c9ecc4aa98dbb21d11501fd3b\"\n  \"__lfcc\" => null\n  \"billingcrm\" => \"7c032449a7899dfa414aa3c56d55d4931037c161\"\n]","response_headers":"array:2 [\n  \"cache-control\" => array:1 [\n    0 => \"no-cache\"\n  ]\n  \"date\" => array:1 [\n    0 => \"Wed, 14 Dec 2016 16:43:11 GMT\"\n  ]\n]","path_info":"\/admin\/invoices\/update\/%7Bid%7D","session_attributes":"array:5 [\n  \"_token\" => \"ixmX3ZlTHiNuxPT9yBnnIe65JZprR3a5xuW5kaCb\"\n  \"flash\" => array:2 [\n    \"new\" => []\n    \"old\" => []\n  ]\n  \"login_82e5d2c56bdd0811318f0cf078b78bfc\" => 1\n  \"lang\" => \"en\"\n  \"PHPDEBUGBAR_STACK_DATA\" => []\n]"}}